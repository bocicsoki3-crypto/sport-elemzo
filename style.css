:root {
    --bg-dark: #0D0D0D; --card-bg-dark: rgba(26, 26, 26, 0.65); --text-primary-dark: #F5F5DC; --text-secondary-dark: #ccc;
    --bg-light: #F0F2F5; --card-bg-light: rgba(255, 255, 255, 0.8); --text-primary-light: #1c1e21; --text-secondary-light: #606770;
    --border-color-dark: rgba(212, 175, 55, 0.2); --border-color-light: #dce1e4;
    --primary: #D4AF37; --secondary: #B8860B; --accent: #00BFFF; --danger: #FF4747; --success: #39FF14;
    --font-family-header: 'Poppins', system-ui, sans-serif; --font-family-body: 'Inter', system-ui, sans-serif;
}
.dark-theme { --bg: var(--bg-dark); --card-bg: var(--card-bg-dark); --text-primary: var(--text-primary-dark); --text-secondary: var(--text-secondary-dark); --border-color: var(--border-color-dark); }
.light-theme { --bg: var(--bg-light); --card-bg: var(--card-bg-light); --text-primary: var(--text-primary-light); --text-secondary: var(--text-secondary-light); --border-color: var(--border-color-light); }
*{box-sizing:border-box}
::selection{background-color:var(--primary);color:#000}
body{margin:0;font-family:var(--font-family-body);color:var(--text-primary);background-color:var(--bg);background-image:radial-gradient(circle at 1px 1px,rgba(212,175,55,0.1) 1px,transparent 0);background-size:20px 20px;min-height:100vh;overflow-x:hidden;transition: background-color 0.3s, color 0.3s;}
h1,h2,h3,h4,h5,h6{font-family:var(--font-family-header);color:var(--text-primary);margin-top:0}
p{line-height:1.7;color:var(--text-secondary)}
.app-header{background:var(--card-bg);backdrop-filter:blur(10px);color:var(--primary);padding:1rem 2rem;text-align:center;border-bottom:1px solid var(--border-color);position:sticky;top:0;z-index:100;display:flex;justify-content:space-between;align-items:center}
.app-header h1{font-weight:600;margin:0;font-size:1.5rem}
.header-status{font-size:.9rem;opacity:.8;display:flex;align-items:center;gap:1.5rem}
.layout{display:grid;grid-template-columns:360px 1fr;gap:2rem;padding:2rem;max-width:1920px;margin:0 auto;align-items:start}
@media (max-width:1024px){
    .layout{grid-template-columns:1fr; padding: 1rem;}
    .sidebar { position: static; top: 80px; }
}
.sidebar{position:sticky;top:100px}
.card{background:var(--card-bg);border:1px solid var(--border-color);border-radius:16px;padding:1.5rem;box-shadow:0 8px 32px rgba(0,0,0,0.3);backdrop-filter:blur(10px);transition:all .3s ease; margin-bottom: 2rem;}
label{display:block;font-weight:500;margin-bottom:.5rem;font-size:.9rem;color:var(--text-secondary)}
input,select{width:100%;padding:10px 14px;border:1px solid var(--border-color);border-radius:10px;background:rgba(0,0,0,0.3);color:var(--text-primary);margin-top:.25rem;font-size:.9rem;font-family:inherit;transition:all .2s ease}
.light-theme input, .light-theme select { background: rgba(255,255,255,0.5); }
input:focus,select:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px rgba(212,175,55,.3)}
.btn{display:inline-block;padding:12px 24px;border:none;border-radius:12px;font-weight:700;cursor:pointer;transition:all .2s ease;font-family:var(--font-family-header);text-align:center;text-decoration:none;position:relative;overflow:hidden}
.btn-primary{background:linear-gradient(135deg,var(--primary),var(--secondary));color:#000}
.btn-primary:hover:not(:disabled){transform:translateY(-3px);box-shadow:0 8px 20px rgba(212,175,55,.25)}
.btn:disabled{background:#555;cursor:not-allowed;opacity:.7}
.muted{color:var(--text-secondary);font-size:.9rem}
#main-content .placeholder{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:60vh;border:2px dashed var(--border-color);border-radius:16px;color:var(--muted);padding:2rem;text-align:center}
#main-content .placeholder svg{width:64px;height:64px;margin-bottom:1rem;stroke-width:1.5;opacity:.5}
.tab-nav{display:flex;gap:.5rem;margin-bottom:1rem;border-bottom:1px solid var(--border-color)}
.tab-btn{padding:10px 15px;background:transparent;border:none;color:var(--text-secondary);cursor:pointer;font-weight:700;position:relative;transition:color .2s ease;font-family:inherit}
.tab-btn.active{color:var(--primary)}
.tab-btn.active::after{content:'';position:absolute;bottom:-1px;left:0;right:0;height:2px;background:var(--primary);box-shadow:0 0 10px var(--primary)}
.tab-content{display:none}
.tab-content.active{display:block;animation:fadeIn .5s}
@keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
.list-item{display:flex;justify-content:space-between;align-items:center;padding:12px;border-bottom:1px solid var(--border-color);cursor:pointer;transition:background-color .2s ease, transform 0.2s ease;position:relative}
.list-item:hover{background-color:rgba(212,175,55,.1); transform: translateX(5px);}
.list-item-title{font-weight:700}.list-item-meta{font-size:.8rem;color:var(--text-secondary)}
.action-icon{display:inline-flex;align-items:center;justify-content:center;width:32px;height:32px;border-radius:50%;transition:background-color .2s ease;background:rgba(255,255,255,0.05)}
.action-icon:hover{background-color:rgba(212, 175, 55, 0.2)}
.action-icon svg{width:18px;height:18px;stroke:var(--text-secondary)}
.action-icon.delete:hover svg{stroke:var(--danger)}
.sport-filter-container{display:flex;gap:8px;margin-bottom:.8rem}
.sport-filter-btn{background-color:rgba(0,0,0,0.3);border:1px solid var(--border-color);color:var(--text-secondary);padding:8px 15px;border-radius:10px;cursor:pointer;transition:all .2s ease;flex:1}
.light-theme .sport-filter-btn { background: rgba(255,255,255,0.5); }
.sport-filter-btn:hover{border-color:var(--secondary);color:var(--text-primary)}
.sport-filter-btn.active{background-color:var(--primary);color:#000;border-color:var(--primary);font-weight:700}
.card > details > summary {font-family: var(--font-family-header);font-size: 1.25rem;font-weight: 600;list-style: none;display: flex;align-items: center;cursor: pointer;}
.card > details > summary::-webkit-details-marker {display: none;}
.card > details > summary::before {content: '▶';margin-right: 10px;font-size: 0.8em;transition: transform 0.2s;}
.card > details[open] > summary::before {transform: rotate(90deg);}
.controls-summary {font-family: var(--font-family-header);font-size: 1.5rem;font-weight: 600;cursor: pointer;list-style: none;padding: 0;display: flex;align-items: center;}
.controls-summary::-webkit-details-marker {display: none;}
.controls-summary::before {content: '▼'; margin-right: 10px; font-size: 0.8em; transition: transform 0.2s; display: inline-block;}
details:not([open]) > .controls-summary::before {transform: rotate(-90deg);}
.controls-content {margin-top: 1.5rem;}
.progress-bar{width:100%;height:4px;background:var(--border-color);border-radius:2px;margin-top:1rem;overflow:hidden;display:none}
.progress-bar-inner{width:0;height:100%;background:var(--primary);transition:width .5s ease}
.status-text{text-align:center;margin-top:.5rem}
#loading-skeleton{display:none}
#loading-skeleton .skeleton-card{background:rgba(255,255,255,0.05);padding:1.5rem;border-radius:16px;margin-bottom:1.5rem}
#loading-skeleton .skeleton-line{background:rgba(255,255,255,0.1);border-radius:4px;margin-bottom:10px;animation:pulse-bg 1.5s infinite}
@keyframes pulse-bg{0%{background:rgba(255,255,255,0.1)}50%{background:rgba(255,255,255,0.05)}100%{background:rgba(255,255,255,0.1)}}

.analysis-body p { font-size: 1.05rem; line-height: 1.8; color: var(--text-secondary); }
.analysis-body strong { color: var(--text-primary); font-weight: 600; }
.at-a-glance-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 1rem; margin-bottom: 2rem; }
.summary-card { background: var(--card-bg); border: 1px solid var(--border-color); border-radius: 12px; padding: 1.5rem; text-align: center; display: flex; flex-direction: column; justify-content: space-between; }
.summary-card h5 { margin: 0 0 1rem 0; color: var(--text-secondary); font-size: 0.9rem; font-weight: 500; text-transform: uppercase; }
.summary-card .value { font-size: 1.5rem; font-weight: 700; color: var(--text-primary); }
.summary-card .details { font-size: 0.8rem; margin-top: 0.5rem; color:var(--text-secondary); }
.radial-chart-container { position: relative; width: 100%; max-width: 150px; margin: 0 auto; flex-grow: 1; display: flex; align-items: center; }
.radial-chart { width: 100%; height: 100%; transform: rotate(-90deg); }
.radial-chart circle { fill: none; stroke-width: 8; stroke-linecap: round; transition: stroke-dasharray 0.5s ease; }
.radial-chart .track { stroke: rgba(255,255,255,0.05); }
.radial-chart .progress { stroke-dasharray: calc(var(--value) / 100 * var(--circumference)), var(--circumference); }
.radial-chart .home { stroke: var(--primary); }
.radial-chart .draw { stroke: var(--text-secondary); }
.radial-chart .away { stroke: var(--accent); }
.diagram-legend { display: flex; flex-direction: column; align-items: flex-start; margin: 1rem auto 0; font-size: 0.8rem; gap: 0.4rem; }
.legend-item { display: flex; align-items: center; gap: 0.5rem; }
.legend-item .glowing-text { font-weight: 700; }
.legend-color-box { width: 12px; height: 12px; border-radius: 3px; flex-shrink: 0; }
.analysis-accordion details { border-bottom: 1px solid var(--border-color); }
.analysis-accordion summary { font-size: 1.2rem; font-weight: 600; padding: 1.5rem 1rem; cursor: pointer; list-style: none; display: flex; align-items: center; justify-content: space-between; }
.analysis-accordion summary::-webkit-details-marker { display: none; }
.analysis-accordion summary .section-title { display: flex; align-items: center; gap: 0.75rem; }
.analysis-accordion summary .section-icon { stroke: var(--primary); }
.analysis-accordion summary::after { content: '+'; font-size: 1.5rem; color: var(--text-secondary); transition: transform 0.3s ease; }
.analysis-accordion details[open] summary::after { transform: rotate(45deg); }
.analysis-accordion .accordion-content { padding: 0 1rem 1.5rem 1rem; animation: fadeIn .5s; }
.xg-value, .confidence-score, .glowing-text { text-shadow: 0 0 10px currentColor; }
.market-data-grid-container { display: grid; grid-template-columns: 1fr; gap: 1.5rem; margin-bottom: 2rem; }
.market-data-section h4 { font-size: 1.1rem; color: var(--secondary); border-bottom: 1px solid var(--border-color); padding-bottom: 0.5rem; margin-bottom: 1rem; }
#theme-switcher { cursor: pointer; stroke: var(--text-secondary); } #theme-switcher:hover { stroke: var(--primary); }
.market-card-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 0.75rem; }
.market-card { background: rgba(0,0,0,0.2); border: 1px solid var(--border-color); border-radius: 8px; padding: 1rem 0.5rem; text-align: center; transition: all 0.2s ease; }
.market-card:hover { border-color: var(--primary); transform: translateY(-2px); box-shadow: 0 0 15px rgba(212, 175, 55, 0.2); }
.market-card-title { font-size: 0.8rem; color: var(--text-secondary); font-weight: 500; margin-bottom: 0.5rem; min-height: 30px; display: flex; align-items: center; justify-content: center; }
.market-card-value { font-size: 1.2rem; font-weight: 700; color: var(--text-primary); text-shadow: 0 0 8px var(--primary); }
.light-theme .market-card { background: rgba(0,0,0,0.05); }
.totals-breakdown { display: flex; flex-direction: column; justify-content: center; align-items: center; height: 100%; gap: 0.5rem; flex-grow: 1; }
.total-line { font-size: 1.05rem; }
.total-label { color: var(--text-secondary); margin-right: 0.5rem; }
.total-value { font-weight: 700; color: var(--text-primary); }

.analysis-modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.7); backdrop-filter: blur(5px); justify-content: center; align-items: center; animation: fadeIn 0.3s; }
.modal-content { background: var(--bg); border-radius: 16px; border: 1px solid var(--border-color); width: 95%; max-width: 600px; max-height: 85vh; display: flex; flex-direction: column; box-shadow: 0 10px 40px rgba(0,0,0,0.5); }
.modal-header { display: flex; justify-content: space-between; align-items: center; padding: 1rem 1.5rem; border-bottom: 1px solid var(--border-color); }
.modal-header h3 { margin: 0; font-size: 1.2rem; color: var(--primary); }
.modal-close-btn { background: transparent; border: none; color: var(--text-secondary); font-size: 2rem; line-height: 1; cursor: pointer; padding: 0; }
.modal-body { padding: 1.5rem; overflow-y: auto; }

.history-group { border-bottom: 1px solid var(--border-color); margin-bottom: 1rem; }
.history-date-header { font-size: 1rem; font-weight: 700; color: var(--text-primary); padding: 1rem 0; cursor: pointer; list-style: none; display: flex; align-items: center; }
.history-date-header::-webkit-details-marker { display: none; }
.history-date-header::before { content: '›'; font-size: 1.5rem; margin-right: 10px; transition: transform 0.2s ease; transform: rotate(0deg); }
.history-group[open] > .history-date-header::before { transform: rotate(90deg); }

.expert-confidence-card { grid-column: 1 / -1; margin-bottom: 2rem; border-color: var(--primary); background: linear-gradient(145deg, rgba(212, 175, 55, 0.05), rgba(212, 175, 55, 0.15)); }
.expert-confidence-card .details { font-size: 0.9rem; max-width: 600px; margin: 0.5rem auto 0; }
.player-props-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 1rem; }
.player-prop-card { background: rgba(0,0,0,0.2); border-radius: 8px; padding: 1rem; text-align: center; }
.player-name { font-weight: 700; font-family: var(--font-family-header); font-size: 1.1rem; margin-bottom: 0.5rem; }
.player-prop { font-size: 1rem; color: var(--text-secondary); }
.player-prop strong { color: var(--primary); }

.league-group {
    border-bottom: 1px solid var(--border-color);
}
.league-header {
    font-size: 1rem;
    font-weight: 700;
    padding: 1rem 0.5rem;
    cursor: pointer;
    list-style: none;
    display: flex;
    align-items: center;
    justify-content: space-between;
    transition: background-color 0.2s ease;
}
.league-header:hover {
    background-color: rgba(212, 175, 55, 0.05);
}
.league-header::-webkit-details-marker {
    display: none;
}
.league-header::before {
    content: '›';
    font-size: 1.5rem;
    margin-right: 10px;
    transition: transform 0.2s ease;
    transform: rotate(0deg);
}
.league-group[open] > .league-header::before {
    transform: rotate(90deg);
}
.league-category-tag {
    font-size: 0.75rem;
    font-weight: 700;
    padding: 4px 10px;
    border-radius: 8px;
    color: #000;
    display: inline-flex;
    align-items: center;
    gap: 6px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
}
.tag-elite { background: linear-gradient(135deg, #FFD700, #B8860B); }
.tag-high-scoring { background: linear-gradient(135deg, #39FF14, #2E8B57); }
.tag-low-scoring { background: linear-gradient(135deg, #00BFFF, #1E90FF); }
.tag-unpredictable { background: linear-gradient(135deg, #FF4747, #B22222); }
