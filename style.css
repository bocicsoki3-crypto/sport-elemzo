:root {
    --bg-dark: #101010; --card-bg-dark: #181818; --text-primary-dark: #EAEAEA; --text-secondary-dark: #A0A0A0;
    --border-color-dark: rgba(212, 175, 55, 0.2); --shadow-color: rgba(0, 0, 0, 0.5);
    --bg-light: #F0F2F5; --card-bg-light: #FFFFFF; --text-primary-light: #1c1e21; --text-secondary-light: #606770;
    --border-color-light: #DCE1E4; --shadow-color: rgba(0, 0, 0, 0.1);
    --primary: #D4AF37; --secondary: #B8860B; --accent: #00BFFF; --danger: #FF4747; --success: #39FF14;
    --font-family-header: 'Poppins', system-ui, sans-serif; --font-family-body: 'Inter', system-ui, sans-serif;
}
.dark-theme { --bg: var(--bg-dark); --card-bg: var(--card-bg-dark); --text-primary: var(--text-primary-dark); --text-secondary: var(--text-secondary-dark); --border-color: var(--border-color-dark); }
.light-theme { --bg: var(--bg-light); --card-bg: var(--card-bg-light); --text-primary: var(--text-primary-light); --text-secondary: var(--text-secondary-light); --border-color: var(--border-color-light); }
*{box-sizing:border-box}
::selection{background-color:var(--primary);color:#000}
::-webkit-scrollbar { width: 8px; height: 8px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.1); border-radius: 4px; }
::-webkit-scrollbar-thumb:hover { background: rgba(255, 255, 255, 0.2); }

body{margin:0;font-family:var(--font-family-body);color:var(--text-primary);background-color:var(--bg);background-image:radial-gradient(circle at 1px 1px,rgba(212,175,55,0.05) 1px,transparent 0);background-size:25px 25px;min-height:100vh;overflow:hidden;transition: background-color 0.3s, color 0.3s;}
h1,h2,h3,h4,h5,h6{font-family:var(--font-family-header);font-weight: 600; color:var(--text-primary);margin-top:0}
p{line-height:1.7;color:var(--text-secondary)}
.app-container { display: flex; flex-direction: column; height: 100vh; }
.app-header{padding:1rem 2rem;border-bottom:1px solid var(--border-color);display:flex;justify-content:space-between;align-items:center;flex-shrink: 0;}
.app-header h1{font-weight:700;margin:0;font-size:1.5rem; color: var(--primary); text-shadow: 0 0 10px rgba(212, 175, 55, 0.3);}
.header-status{font-size:.9rem;opacity:.8;display:flex;align-items:center;gap:1.5rem}
label{display:block;font-weight:500;margin-bottom:.5rem;font-size:.9rem;color:var(--text-secondary)}
input, .select-wrapper select {width:100%;padding:10px 14px;border:1px solid var(--border-color);border-radius:10px;background:var(--card-bg);color:var(--text-primary);font-size:.9rem;font-family:inherit;transition:all .2s ease}
input:focus, .select-wrapper select:focus {outline:none;border-color:var(--primary);box-shadow:0 0 0 3px rgba(212,175,55,.3)}
.select-wrapper { position: relative; width: 100%; }
.select-wrapper::after { content: '▼'; font-size: 1rem; color: var(--text-secondary); position: absolute; right: 14px; top: 50%; transform: translateY(-50%); pointer-events: none; }
.select-wrapper select { -webkit-appearance: none; -moz-appearance: none; appearance: none; padding-right: 34px; cursor: pointer; }
.btn{display:inline-block;padding:10px 20px;border:1px solid var(--border-color);border-radius:10px;font-weight:600;cursor:pointer;transition:all .2s ease;font-family:var(--font-family-header);text-align:center;text-decoration:none;background: transparent; color: var(--text-secondary);}
.btn:hover:not(:disabled) { border-color: var(--primary); color: var(--primary); background: rgba(212, 175, 55, 0.1); box-shadow: 0 0 15px rgba(212, 175, 55, 0.2); transform: translateY(-2px); }
.btn-primary{background:linear-gradient(135deg,var(--primary),var(--secondary));color:#000; border: none; font-weight: 700;}
.btn-primary:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 20px rgba(212,175,55,.3)}
.btn:disabled{background:#555;cursor:not-allowed;opacity:.7}
.muted{color:var(--text-secondary);font-size:.9rem}
.placeholder{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;color:var(--text-secondary);padding:2rem;text-align:center}
.placeholder svg{width:64px;height:64px;margin-bottom:1rem;stroke-width:1.5;opacity:.3}

.controls-bar { display: flex; align-items: flex-end; gap: 1.5rem; padding: 1.5rem 2rem; border-bottom: 1px solid var(--border-color); background: rgba(0,0,0,0.1); flex-shrink: 0;}
.control-group { min-width: 200px; }
.button-group { display: flex; gap: 0.5rem; }
.main-content { padding: 0; flex-grow: 1; overflow: hidden; position: relative; }
.kanban-container { height: 100%; overflow-x: auto; padding: 2rem; }
.kanban-board { display: grid; grid-auto-flow: column; grid-auto-columns: 340px; gap: 1.5rem; min-height: 100%; }
.kanban-column { background: var(--card-bg); border: 1px solid var(--border-color); border-radius: 16px; padding: 1.5rem; display: flex; flex-direction: column; gap: 1rem; box-shadow: inset 0 1px 0 rgba(255,255,255,0.05), 0 10px 30px var(--shadow-color); }
.kanban-column-header { font-family: var(--font-family-header); font-size: 1.25rem; padding-bottom: 1rem; border-bottom: 1px solid var(--border-color); margin-bottom: 0.5rem; }
.match-card { background: linear-gradient(145deg, rgba(255,255,255,0.05), rgba(255,255,255,0)); border-radius: 12px; padding: 1rem; cursor: pointer; transition: all .2s ease; border: 1px solid var(--border-color); }
.match-card:hover { transform: translateY(-4px); border-color: var(--primary); box-shadow: 0 8px 25px rgba(212,175,55,0.2); background: linear-gradient(145deg, rgba(212,175,55,0.1), rgba(212,175,55,0.05)); }
.match-card-teams { font-weight: 600; font-size: 1.05rem; margin-bottom: 0.5rem; }
.match-card-meta { font-size: 0.8rem; color: var(--text-secondary); display: flex; justify-content: space-between; align-items: center; }
.date-section { border-bottom: 1px solid var(--border-color); padding-bottom: 1rem; margin-bottom: 1rem; }
.date-section:last-of-type { border-bottom: none; margin-bottom: 0; }
.date-section summary { list-style: none; cursor: pointer; font-family: var(--font-family-header); font-size: 0.9rem; color: var(--text-secondary); text-transform: uppercase; letter-spacing: 1px; padding: 0.5rem 0; display: flex; align-items: center; }
.date-section summary::-webkit-details-marker { display: none; }
.date-section summary::before { content: '▶'; margin-right: 10px; font-size: 0.8em; transition: transform 0.2s; }
.date-section[open] > summary::before { transform: rotate(90deg); }
.date-section .match-card { margin-top: 1rem; }

/* --- UNIVERZÁLIS MODAL DIZÁJN --- */
.modal-container { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); backdrop-filter: blur(10px); z-index: 2000; justify-content: center; align-items: center; animation: fadeIn .3s; }
.modal-container.open { display: flex; }
.modal-content { background: var(--card-bg); border-radius: 16px; border: 1px solid var(--border-color); display: flex; flex-direction: column; box-shadow: 0 10px 50px var(--shadow-color); max-height: 90vh; max-width: 90vw; }
.modal-header { display: flex; justify-content: space-between; align-items: center; padding: 1rem 1.5rem; border-bottom: 1px solid var(--border-color); flex-shrink: 0; }
.modal-header h3 { margin: 0; font-size: 1.2rem; color: var(--primary); }
.modal-close-btn { background: none; border: none; color: var(--text-secondary); font-size: 2rem; line-height: 1; cursor: pointer; padding: 0; transition: color 0.2s; }
.modal-close-btn svg { width: 24px; height: 24px; }
.modal-close-btn:hover { color: var(--primary); }
.modal-body { padding: 1.5rem; overflow-y: auto; }

/* Specifikus méretek a különböző modal típusokhoz */
.modal-content.modal-sm { width: 500px; max-width: 90vw; }
.modal-content.modal-lg { width: 1000px; max-width: 90vw; }
.modal-content.modal-fullscreen { width: 100%; height: 100%; max-height: 100vh; max-width: 100vw; border-radius: 0; }

.list-item{display:flex;justify-content:space-between;align-items:center;padding:12px;border-bottom:1px solid var(--border-color);cursor:pointer;}
.list-item-title{font-weight:600}.list-item-meta{font-size:.8rem;color:var(--text-secondary)}

@media (max-width: 1024px) {
  body { overflow-y: auto; }
  .kanban-container, .main-content { display: none !important; }
  .controls-bar { flex-direction: column; align-items: stretch; padding: 1rem; }
  .button-group { display: grid; grid-template-columns: 1fr 1fr 1fr; }
  .modal-content { width: 100%; height: 100%; max-height: 100vh; max-width: 100vw; border-radius: 0; }
}

/* ELEMZÉS TARTALOM */
.loading-skeleton { display: none; }
.loading-skeleton.active { display: block; }
.loading-skeleton .skeleton-card{background:rgba(255,255,255,0.05);padding:1.5rem;border-radius:12px;margin-bottom:1.5rem}
.loading-skeleton .skeleton-line{background:rgba(255,255,255,0.1);height: 1em; border-radius:4px;margin-bottom:10px;animation:pulse-bg 1.5s infinite}
@keyframes pulse-bg{0%{background:rgba(255,255,255,0.1)}50%{background:rgba(255,255,255,0.05)}100%{background:rgba(255,255,255,0.1)}}
.analysis-body strong { color: var(--text-primary); font-weight: 700; text-shadow: 0 0 8px rgba(255, 255, 255, 0.7); }
.analysis-accordion details { border-bottom: 1px solid var(--border-color); }
.analysis-accordion summary { font-size: 1.2rem; font-weight: 600; padding: 1.5rem 1rem; cursor: pointer; list-style: none; display: flex; align-items: center; justify-content: space-between; }
.analysis-accordion summary::-webkit-details-marker { display: none; }
.analysis-accordion summary .section-title { display: flex; align-items: center; gap: 0.75rem; }
.analysis-accordion summary .section-icon { stroke: var(--primary); }
.analysis-accordion summary::after { content: '+'; font-size: 1.5rem; color: var(--text-secondary); transition: transform 0.3s ease; }
.analysis-accordion details[open] summary::after { transform: rotate(45deg); }
.analysis-accordion .accordion-content { padding: 0 1rem 1.5rem 1rem; animation: fadeIn .5s; }
.at-a-glance-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); gap: 1rem; margin-bottom: 2rem; }
.summary-card { background: rgba(0,0,0,0.1); border: 1px solid var(--border-color); border-radius: 12px; padding: 1.5rem; text-align: center; }
.summary-card h5 { margin: 0 0 1rem 0; color: var(--text-secondary); font-size: 0.9rem; font-weight: 500; text-transform: uppercase; }
.summary-card .value { font-size: 1.5rem; font-weight: 700; color: var(--text-primary); }
.summary-card .details { font-size: 0.8rem; margin-top: 0.5rem; color:var(--text-secondary); }
.market-data-section h4 { font-size: 1.1rem; color: var(--secondary); border-bottom: 1px solid var(--border-color); padding-bottom: 0.5rem; margin-bottom: 1rem; }
.chat-container { border-radius: 12px; margin-top: 2rem; padding: 1.5rem; background: var(--card-bg); }
.chat-messages { max-height: 300px; overflow-y: auto; margin-bottom: 1rem; padding-right: 1rem; }
.chat-input-container { display: flex; gap: 1rem; }
.chat-input-container input { flex-grow: 1; margin-top: 0; }
.chat-bubble { padding: 10px 15px; border-radius: 15px; margin-bottom: 10px; max-width: 80%; line-height: 1.5; }
.chat-bubble.user { background-color: var(--primary); color: #000; margin-left: auto; border-bottom-right-radius: 3px; }
.chat-bubble.ai { background-color: rgba(255,255,255,0.1); border: 1px solid var(--border-color); border-bottom-left-radius: 3px; }
