:root {
    --bg-dark: #0D0D0D; --card-bg-dark: rgba(26, 26, 26, 0.65); --text-primary-dark: #F5F5DC; --text-secondary-dark: #ccc;
    --bg-light: #F0F2F5; --card-bg-light: rgba(255, 255, 255, 0.8); --text-primary-light: #1c1e21; --text-secondary-light: #606770;
    --border-color-dark: rgba(212, 175, 55, 0.2); --border-color-light: #dce1e4;
    --primary: #D4AF37; --secondary: #B8860B; --accent: #00BFFF; --danger: #FF4747; --success: #39FF14;
    --font-family-header: 'Poppins', system-ui, sans-serif; --font-family-body: 'Inter', system-ui, sans-serif;
}
.dark-theme { --bg: var(--bg-dark); --card-bg: var(--card-bg-dark); --text-primary: var(--text-primary-dark); --text-secondary: var(--text-secondary-dark); --border-color: var(--border-color-dark); }
.light-theme { --bg: var(--bg-light); --card-bg: var(--card-bg-light); --text-primary: var(--text-primary-light); --text-secondary: var(--text-secondary-light); --border-color: var(--border-color-light); }
*{box-sizing:border-box}
::selection{background-color:var(--primary);color:#000}
body{margin:0;font-family:var(--font-family-body);color:var(--text-primary);background-color:var(--bg);background-image:radial-gradient(circle at 1px 1px,rgba(212,175,55,0.1) 1px,transparent 0);background-size:20px 20px;min-height:100vh;overflow-x:hidden;transition: background-color 0.3s, color 0.3s;}
h1,h2,h3,h4,h5,h6{font-family:var(--font-family-header);color:var(--text-primary);margin-top:0}
p{line-height:1.7;color:var(--text-secondary)}
.app-header{background:var(--card-bg);backdrop-filter:blur(10px);color:var(--primary);padding:1rem 2rem;text-align:center;border-bottom:1px solid var(--border-color);position:sticky;top:0;z-index:100;display:flex;justify-content:space-between;align-items:center}
.app-header h1{font-weight:600;margin:0;font-size:1.5rem}
.header-status{font-size:.9rem;opacity:.8;display:flex;align-items:center;gap:1.5rem}
label{display:block;font-weight:500;margin-bottom:.5rem;font-size:.9rem;color:var(--text-secondary)}
input, .select-wrapper select {width:100%;padding:10px 14px;border:1px solid var(--border-color);border-radius:10px;background:rgba(0,0,0,0.3);color:var(--text-primary);font-size:.9rem;font-family:inherit;transition:all .2s ease}
.light-theme input, .light-theme .select-wrapper select { background: rgba(255,255,255,0.5); }
input:focus, .select-wrapper select:focus {outline:none;border-color:var(--primary);box-shadow:0 0 0 3px rgba(212,175,55,.3)}
.select-wrapper { position: relative; width: 100%; }
.select-wrapper::after { content: '▼'; font-size: 1rem; color: var(--text-secondary); position: absolute; right: 14px; top: 50%; transform: translateY(-50%); pointer-events: none; }
.select-wrapper select { -webkit-appearance: none; -moz-appearance: none; appearance: none; padding-right: 34px; cursor: pointer; }
.btn{display:inline-block;padding:12px 24px;border:1px solid transparent;border-radius:12px;font-weight:700;cursor:pointer;transition:all .2s ease;font-family:var(--font-family-header);text-align:center;text-decoration:none;position:relative;overflow:hidden;background: rgba(255,255,255,0.1); color: var(--text-primary);}
.btn:hover:not(:disabled) { border-color: var(--primary); color: var(--primary); }
.btn-primary{background:linear-gradient(135deg,var(--primary),var(--secondary));color:#000; border: none;}
.btn-primary:hover:not(:disabled){transform:translateY(-3px);box-shadow:0 8px 20px rgba(212,175,55,.25)}
.btn:disabled{background:#555;cursor:not-allowed;opacity:.7}
.muted{color:var(--text-secondary);font-size:.9rem}
.placeholder{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:60vh;border:2px dashed var(--border-color);border-radius:16px;color:var(--text-secondary);padding:2rem;text-align:center}
.placeholder svg{width:64px;height:64px;margin-bottom:1rem;stroke-width:1.5;opacity:.5}

/* --- ÚJ KANBAN DIZÁJN --- */
.controls-bar { display: flex; align-items: flex-end; gap: 1.5rem; padding: 1rem 2rem; border-bottom: 1px solid var(--border-color); background: var(--card-bg); }
.control-group { min-width: 200px; }
.main-content { padding: 2rem; }
.kanban-board { display: grid; grid-auto-flow: column; grid-auto-columns: 320px; gap: 1.5rem; overflow-x: auto; padding-bottom: 1.5rem; min-height: 60vh; }
.kanban-column { background: var(--card-bg); border: 1px solid var(--border-color); border-radius: 12px; padding: 1rem; display: flex; flex-direction: column; gap: 1rem; }
.kanban-column-header { font-family: var(--font-family-header); font-size: 1.2rem; padding-bottom: 1rem; border-bottom: 1px solid var(--border-color); }
.match-card { background: rgba(0,0,0,0.2); border-radius: 8px; padding: 1rem; cursor: pointer; transition: all .2s ease; border: 1px solid transparent; }
.match-card:hover { transform: translateY(-3px); border-color: var(--primary); box-shadow: 0 4px 15px rgba(212,175,55,0.1); }
.match-card-teams { font-weight: 700; margin-bottom: 0.5rem; }
.match-card-meta { font-size: 0.8rem; color: var(--text-secondary); display: flex; justify-content: space-between; }
.light-theme .match-card { background: rgba(0,0,0,0.04); }

/* --- ÚJ BECSÚSZÓ PANEL DIZÁJN --- */
.analysis-panel { position: fixed; top: 0; right: -100%; width: 600px; max-width: 90vw; height: 100vh; background: var(--bg); border-left: 1px solid var(--border-color); box-shadow: -10px 0 30px rgba(0,0,0,0.3); z-index: 1000; transition: right 0.4s ease-in-out; display: flex; flex-direction: column; }
.analysis-panel.open { right: 0; }
.panel-header { display: flex; justify-content: space-between; align-items: center; padding: 1rem 1.5rem; border-bottom: 1px solid var(--border-color); background: var(--card-bg); }
.panel-header h3 { margin: 0; font-size: 1.2rem; color: var(--primary); }
.panel-close-btn { background: transparent; border: none; color: var(--text-secondary); font-size: 2rem; line-height: 1; cursor: pointer; padding: 0; }
.panel-body { padding: 1.5rem; overflow-y: auto; flex-grow: 1; }

/* --- MOBIL NÉZET ÉS MODAL ABLAKOK --- */
.mobile-modal-container { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); backdrop-filter: blur(5px); z-index: 2000; justify-content: center; align-items: center; }
.mobile-modal-content { background: var(--bg); width: 100%; height: 100%; display: flex; flex-direction: column; }
.mobile-modal-header { display: flex; justify-content: space-between; align-items: center; padding: 1rem 1.5rem; border-bottom: 1px solid var(--border-color); background: var(--card-bg); }
.mobile-modal-header h3 { margin: 0; font-size: 1.2rem; color: var(--primary); }
.mobile-modal-close-btn { background: transparent; border: none; color: var(--text-secondary); font-size: 2rem; line-height: 1; cursor: pointer; padding: 0; }
.mobile-modal-body { padding: 1rem; overflow-y: auto; flex-grow: 1; }
.list-item{display:flex;justify-content:space-between;align-items:center;padding:12px;border-bottom:1px solid var(--border-color);cursor:pointer;transition:background-color .2s ease, transform 0.2s ease;position:relative}
.list-item-title{font-weight:700}.list-item-meta{font-size:.8rem;color:var(--text-secondary)}

@media (max-width: 1024px) {
  .kanban-board, .analysis-panel { display: none !important; }
  .mobile-modal-container.open { display: flex; }
  .controls-bar { flex-direction: column; align-items: stretch; }
  .main-content { padding: 1rem; }
}

/* --- ELEMZÉS TARTALOM DIZÁJN --- */
#loading-skeleton { display: none; }
#loading-skeleton.active { display: block; }
#loading-skeleton .skeleton-card{background:rgba(255,255,255,0.05);padding:1.5rem;border-radius:16px;margin-bottom:1.5rem}
#loading-skeleton .skeleton-line{background:rgba(255,255,255,0.1);border-radius:4px;margin-bottom:10px;animation:pulse-bg 1.5s infinite}
@keyframes pulse-bg{0%{background:rgba(255,255,255,0.1)}50%{background:rgba(255,255,255,0.05)}100%{background:rgba(255,255,255,0.1)}}
.analysis-body strong { color: var(--text-primary); font-weight: 700; text-shadow: 0 0 8px rgba(255, 255, 255, 0.7); }
.analysis-accordion details { border-bottom: 1px solid var(--border-color); }
.analysis-accordion summary { font-size: 1.2rem; font-weight: 600; padding: 1.5rem 1rem; cursor: pointer; list-style: none; display: flex; align-items: center; justify-content: space-between; }
.analysis-accordion summary::-webkit-details-marker { display: none; }
.analysis-accordion summary .section-title { display: flex; align-items: center; gap: 0.75rem; }
.analysis-accordion summary .section-icon { stroke: var(--primary); }
.analysis-accordion summary::after { content: '+'; font-size: 1.5rem; color: var(--text-secondary); transition: transform 0.3s ease; }
.analysis-accordion details[open] summary::after { transform: rotate(45deg); }
.analysis-accordion .accordion-content { padding: 0 1rem 1.5rem 1rem; animation: fadeIn .5s; }
.at-a-glance-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 1rem; margin-bottom: 2rem; }
.summary-card { background: var(--card-bg); border: 1px solid var(--border-color); border-radius: 12px; padding: 1.5rem; text-align: center; display: flex; flex-direction: column; justify-content: space-between; }
.summary-card h5 { margin: 0 0 1rem 0; color: var(--text-secondary); font-size: 0.9rem; font-weight: 500; text-transform: uppercase; }
.summary-card .value { font-size: 1.5rem; font-weight: 700; color: var(--text-primary); }
.summary-card .details { font-size: 0.8rem; margin-top: 0.5rem; color:var(--text-secondary); }
.market-data-section h4 { font-size: 1.1rem; color: var(--secondary); border-bottom: 1px solid var(--border-color); padding-bottom: 0.5rem; margin-bottom: 1rem; }
.date-header { font-family: var(--font-family-header); font-size: 1.1rem; color: var(--text-secondary); padding: 0.5rem 0; border-bottom: 1px solid var(--border-color); margin-top: 1.5rem; margin-bottom: 0.5rem; font-weight: 600; }
.history-date-header { font-size: 1rem; font-weight: 700; color: var(--text-primary); padding: 1rem 0; cursor: pointer; list-style: none; display: flex; align-items: center; }
.chat-container { border-radius: 12px; }
.chat-messages { max-height: 300px; overflow-y: auto; margin-bottom: 1rem; padding-right: 1rem; }
.chat-input-container { display: flex; gap: 1rem; }
.chat-input-container input { flex-grow: 1; margin-top: 0; }
.chat-bubble { padding: 10px 15px; border-radius: 15px; margin-bottom: 10px; max-width: 80%; line-height: 1.5; }
.chat-bubble.user { background-color: var(--primary); color: #000; margin-left: auto; border-bottom-right-radius: 3px; }
.chat-bubble.ai { background-color: rgba(255,255,255,0.1); border: 1px solid var(--border-color); border-bottom-left-radius: 3px; }
.light-theme .chat-bubble.ai { background-color: rgba(0,0,0,0.05); }
